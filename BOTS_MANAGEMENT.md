# –ö–µ—Ä—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞–º–∏

## üìã –û–≥–ª—è–¥

–£ –ø—Ä–æ–µ–∫—Ç—ñ —î **–¥–≤–∞ –æ–∫—Ä–µ–º–∏—Ö –±–æ—Ç–∏**:
1. **Threads Bot** (`bot.py`) - –æ—Å–Ω–æ–≤–Ω–∏–π –±–æ—Ç –¥–ª—è –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –∑ Telegram –≤ Threads
2. **Forward Bot** (`forward_bot.py`) - –±–æ—Ç –¥–ª—è –ø–µ—Ä–µ—Å–∏–ª–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –º—ñ–∂ Telegram –∫–∞–Ω–∞–ª–∞–º–∏

**‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û**: –ö–æ–∂–µ–Ω –±–æ—Ç –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –∑–∞–ø—É—â–µ–Ω–∏–π **—Ç—ñ–ª—å–∫–∏ –≤ –æ–¥–Ω–æ–º—É –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ**! –Ø–∫—â–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ –∫–æ–ø—ñ–π –æ–¥–Ω–æ–≥–æ –±–æ—Ç–∞, –≤–∏–Ω–∏–∫–Ω–µ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç Telegram API.

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ö–µ—Ä—É–≤–∞–Ω–Ω—è –≤—Å—ñ–º–∞ –±–æ—Ç–∞–º–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ –±–æ—Ç–∏
./all_bots_manager.sh start

# –ó—É–ø–∏–Ω–∏—Ç–∏ –≤—Å—ñ –±–æ—Ç–∏
./all_bots_manager.sh stop

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ –±–æ—Ç–∏ (–ø—ñ—Å–ª—è –ø—Ä–æ–±–ª–µ–º –∑ Amazon, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥)
./all_bots_manager.sh restart

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –≤—Å—ñ—Ö –±–æ—Ç—ñ–≤
./all_bots_manager.sh status
```

## üîß –ö–µ—Ä—É–≤–∞–Ω–Ω—è –æ–∫—Ä–µ–º–∏–º–∏ –±–æ—Ç–∞–º–∏

### Threads Bot (–æ—Å–Ω–æ–≤–Ω–∏–π):

```bash
./bot_manager.sh start      # –ó–∞–ø—É—Å—Ç–∏—Ç–∏
./bot_manager.sh stop       # –ó—É–ø–∏–Ω–∏—Ç–∏
./bot_manager.sh restart    # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏
./bot_manager.sh status     # –°—Ç–∞—Ç—É—Å
```

### Forward Bot (–ø–µ—Ä–µ—Å–∏–ª–∞–Ω–Ω—è):

```bash
./forward_bot_manager.sh start      # –ó–∞–ø—É—Å—Ç–∏—Ç–∏
./forward_bot_manager.sh stop       # –ó—É–ø–∏–Ω–∏—Ç–∏
./forward_bot_manager.sh restart    # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏
./forward_bot_manager.sh status     # –°—Ç–∞—Ç—É—Å
```

## üìù –õ–æ–≥–∏

–ö–æ–∂–µ–Ω –±–æ—Ç –º–∞—î —Å–≤—ñ–π –ª–æ–≥-—Ñ–∞–π–ª:

```bash
# –î–∏–≤–∏—Ç–∏—Å—è –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
tail -f threads_bot.log      # –û—Å–Ω–æ–≤–Ω–∏–π –±–æ—Ç
tail -f forward_bot.log      # Forward bot

# –û—Å—Ç–∞–Ω–Ω—ñ 50 —Ä—è–¥–∫—ñ–≤
tail -50 threads_bot.log
tail -50 forward_bot.log

# –ü–æ—à—É–∫ –ø–æ–º–∏–ª–æ–∫
grep ERROR threads_bot.log
grep Conflict forward_bot.log
```

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—ñ–≤

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —è–∫—ñ –±–æ—Ç–∏ –∑–∞–ø—É—â–µ–Ω—ñ
ps aux | grep "bot.py" | grep -v grep

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ PID
cat bot.pid                 # PID –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞
cat forward_bot.pid         # PID forward –±–æ—Ç–∞
```

## ‚ö†Ô∏è –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Conflict: terminated by other getUpdates request"

–¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –∑–∞–ø—É—â–µ–Ω–æ **–∫—ñ–ª—å–∫–∞ –∫–æ–ø—ñ–π –æ–¥–Ω–æ–≥–æ –±–æ—Ç–∞**.

**–†—ñ—à–µ–Ω–Ω—è:**

```bash
# 1. –ó—É–ø–∏–Ω–∏—Ç–∏ –≤—Å–µ
./all_bots_manager.sh stop

# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –≤—Å–µ –∑—É–ø–∏–Ω–µ–Ω–æ
ps aux | grep "bot.py" | grep -v grep

# 3. –Ø–∫—â–æ —â–æ—Å—å –∑–∞–ª–∏—à–∏–ª–æ—Å—å - –≤–±–∏—Ç–∏ –≤—Ä—É—á–Ω—É
pkill -9 -f "python.*bot.py"
pkill -9 -f "python.*forward_bot.py"

# 4. –ü–æ—á–µ–∫–∞—Ç–∏ 5 —Å–µ–∫—É–Ω–¥
sleep 5

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∑–Ω–æ–≤—É
./all_bots_manager.sh start

# 6. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å
./all_bots_manager.sh status
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –ø—É–±–ª—ñ–∫—É—î (–ø—ñ—Å–ª—è –ø—Ä–æ–±–ª–µ–º –∑ Amazon)

```bash
# –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ –±–æ—Ç–∏
./all_bots_manager.sh restart
```

### –ü—Ä–æ–±–ª–µ–º–∞: PID —Ñ–∞–π–ª —ñ—Å–Ω—É—î –∞–ª–µ –±–æ—Ç –Ω–µ –ø—Ä–∞—Ü—é—î

```bash
# –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–∞—Ä—ñ PID —Ñ–∞–π–ª–∏
rm -f bot.pid forward_bot.pid

# –ó—É–ø–∏–Ω–∏—Ç–∏ –≤—Å–µ —â–æ –º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏
./all_bots_manager.sh stop

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∑–Ω–æ–≤—É
./all_bots_manager.sh start
```

## üåê –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞

–Ø–∫—â–æ –±–æ—Ç–∏ –∑–∞–ø—É—â–µ–Ω—ñ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ (—á–µ—Ä–µ–∑ systemd –∞–±–æ cron):

### –í–∞–∂–ª–∏–≤–æ:
1. ‚ùå **–ù–ï –∑–∞–ø—É—Å–∫–∞–π—Ç–µ** `bot_manager.sh` –ª–æ–∫–∞–ª—å–Ω–æ, —è–∫—â–æ –±–æ—Ç –≤–∂–µ –ø—Ä–∞—Ü—é—î –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
2. ‚ùå **–ù–ï –∑–∞–ø—É—Å–∫–∞–π—Ç–µ** –æ–¥–∏–Ω —ñ —Ç–æ–π –∂–µ –±–æ—Ç –≤ –∫—ñ–ª—å–∫–æ—Ö –º—ñ—Å—Ü—è—Ö (–ª–æ–∫–∞–ª—å–Ω–æ + —Å–µ—Ä–≤–µ—Ä)
3. ‚úÖ **–°–ø–æ—á–∞—Ç–∫—É –∑—É–ø–∏–Ω—ñ—Ç—å** –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ:

```bash
# –ß–µ—Ä–µ–∑ SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
ssh your_server

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å
cd /path/to/Threads
./all_bots_manager.sh status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏
./all_bots_manager.sh restart
```

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤'—è –±–æ—Ç—ñ–≤:

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å—ñ—Ö –±–æ—Ç—ñ–≤ + –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
./all_bots_manager.sh status

# –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä–æ—Ü–µ—Å–∏
ps aux | grep "bot.py" | grep -v grep

# –ß–∞—Å —Ä–æ–±–æ—Ç–∏
ps -p $(cat bot.pid) -o etime=
ps -p $(cat forward_bot.pid) -o etime=
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ (cron):

–î–æ–¥–∞–π—Ç–µ –≤ crontab –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω:

```bash
*/5 * * * * cd /Users/admin/Threads && ./all_bots_manager.sh status >> bot_health.log 2>&1
```

## üîê –¢–æ–∫–µ–Ω–∏

–ö–æ–∂–µ–Ω –±–æ—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–æ–∫—Ä–µ–º–∏–π Telegram —Ç–æ–∫–µ–Ω**:

- **Threads Bot**: —Ç–æ–∫–µ–Ω –∑ `config.py` (TELEGRAM_BOT_TOKEN)
- **Forward Bot**: —Ç–æ–∫–µ–Ω –ø—Ä—è–º–æ –≤ `forward_bot.py` (TELEGRAM_BOT_TOKEN)

–¶–µ –¥–æ–∑–≤–æ–ª—è—î —ó–º –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –±–µ–∑ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤.

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–∞

```bash
# 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –±–æ—Ç–∏ –Ω–µ –ø—Ä–∞—Ü—é—é—Ç—å
./all_bots_manager.sh status

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å–µ
./all_bots_manager.sh start

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ –Ω–∞ –ø–æ–º–∏–ª–∫–∏
tail -20 threads_bot.log
tail -20 forward_bot.log

# 4. –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ —â–æ –Ω–µ–º–∞—î –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤
grep -i conflict threads_bot.log | tail -5
grep -i conflict forward_bot.log | tail -5

# 5. –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–π –ø–æ—Å—Ç –≤ –∫–∞–Ω–∞–ª—ñ
```

## üÜò –®–≤–∏–¥–∫–∞ –¥–æ–ø–æ–º–æ–≥–∞

| –ü—Ä–æ–±–ª–µ–º–∞ | –ö–æ–º–∞–Ω–¥–∞ |
|----------|---------|
| –ù—ñ—á–æ–≥–æ –Ω–µ –ø–æ—Å—Ç–∏—Ç—å | `./all_bots_manager.sh restart` |
| Conflict –ø–æ–º–∏–ª–∫–∞ | `./all_bots_manager.sh stop && sleep 5 && ./all_bots_manager.sh start` |
| –ë–æ—Ç –∑–∞–≤–∏—Å | `./all_bots_manager.sh restart` |
| –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å | `./all_bots_manager.sh status` |
| –î–∏–≤–∏—Ç–∏—Å—è –ª–æ–≥–∏ | `tail -f threads_bot.log` |

---

**–°—Ç–≤–æ—Ä–µ–Ω–æ:** 20 –∂–æ–≤—Ç–Ω—è 2025  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–í–µ—Ä—Å—ñ—è:** 1.0

